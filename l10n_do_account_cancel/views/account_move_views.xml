<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="l10n_do_accounting_move_cancel_form" model="ir.ui.view">
        <field name="name">l10n.do.accounting.move.cancel.form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='id']" position="after">
                <field name="l10n_latam_country_code" invisible="1"/>
            </xpath>
            <xpath expr="//button[@name='button_cancel']" position="attributes">
                <attribute name="attrs">{
                    'invisible' : ['&amp;', '|',
                    ('id', '=', False), ('state', '!=', 'draft'), ('l10n_latam_country_code', '!=', 'DO'),
                    '|',
                    ('l10n_latam_country_code', '=', 'DO'),
                    '&amp;',
                    ('id', '=', False), ('state', 'not in', ('draft', 'cancel'))]
                }</attribute>
            </xpath>
            <xpath expr="//form/sheet/div[2]/h1[1]" position="inside">
                <span attrs="{'invisible': ['|', '|', '|', ('type', '!=', 'out_invoice'), ('state', '!=', 'cancel'), ('name', '!=', '/'), ('is_debit_note', '=', False)]}">Cancelled Debit Note</span>
                <span attrs="{'invisible': ['|', '|', '|', ('type', '!=', 'in_invoice'), ('state', '!=', 'cancel'), ('name', '!=', '/'), ('is_debit_note', '=', False)]}">Cancelled Vendor Debit Note</span>
                <span attrs="{'invisible': ['|', '|', ('type', '!=', 'out_invoice'), ('state', '!=', 'cancel'), ('name', '!=', '/')]}">Cancelled Invoice</span>
                <span attrs="{'invisible': ['|', '|', ('type', '!=', 'out_refund'), ('state', '!=', 'cancel'), ('name', '!=', '/')]}">Cancelled Credit Note</span>
                <span attrs="{'invisible': ['|', '|', ('type', '!=', 'in_invoice'), ('state', '!=', 'cancel'), ('name', '!=', '/')]}">Cancelled Bill</span>
                <span attrs="{'invisible': ['|', '|', ('type', '!=', 'in_refund'), ('state', '!=', 'cancel'), ('name', '!=', '/')]}">Cancelled Refund</span>
            </xpath>
            <xpath expr="//form/sheet/div[2]/h1[1]" position="after">
                <h4 attrs="{'invisible':['|',('state','!=','cancel'),('l10n_latam_country_code', '!=', 'DO')]}">
                    Cancellation Reason:
                    <br/>
                    <field name="anulation_type" readonly="1"/>
                </h4>
            </xpath>
        </field>
    </record>
</odoo>
